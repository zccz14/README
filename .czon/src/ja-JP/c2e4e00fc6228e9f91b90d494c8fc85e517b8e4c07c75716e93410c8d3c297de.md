---
"title": "CZON JSXリファクタリングとAI分類機能の計画"
"summary": "本稿では、まずCZONプロジェクトにおいて、Placeholder-ReplacementベースのテンプレートエンジンからReact JSXレンダリングへのリファクタリング作業が完了したことをまとめます。従来のAIによる手作りテンプレートエンジンを削除し、カスタムテーマ機能は一時的に保留して、コア機能の充実に注力しています。続いて、AI分類機能の実装計画を詳細に説明します。AIが.meta.jsonの内容を読み取り、分類体系を生成し、各記事に単一の分類ラベルを付与します。各カテゴリには少なくとも3記事以上を含め、総カテゴリ数は10個以内に抑えることで、分類の明確さと簡潔さを保ちます。この機能は、単一記事のMetadata抽出後、Markdownメタ情報の拡充前に行う必要があり、翻訳の可能性に対応できるようにします。最後に、分類ラベルがカテゴリ別閲覧と推薦機能をサポートし、ユーザー体験を向上させることを展望します。"
"tags":
  - "CZON"
  - "JSXリファクタリング"
  - "AI分類"
  - "React"
  - "コンテンツ管理"
  - "自動化"
  - "ユーザー体験"
  - "プロジェクト計画"
"date": "2026-01-10"
---

現在は2026年1月10日、朝です。

CZONのJSXレンダリングのリファクタリング作業を、ひとまず完了させました。[このドキュメント](czon://c1f75326e1864105c4c33c72e3c6d2fd1e9331ffe60f0600595770e84f22763d)の考え方に基づき、CZONは現在、JSXコンポーネントを使用して様々なタイプのページをレンダリングできるようになりました。従来のPlaceholder-ReplacementベースのAIによる手作りテンプレートエンジンを削除し、ReactエコシステムのJSXを用いたページレンダリングに移行しました。ただし、カスタムテーマ機能は一時的に保留し、まずはコア機能の充実に集中しています。

テキストコンテンツも徐々に充実してきたので、そろそろAI分類機能の構築を始める時期に来ていると思います。これはCZONの核となる売りの一つでもあります。コンテンツ量が増えるにつれ、手動での分類は煩雑になるため、自分で分類作業を行うつもりはありません。そこで、AIにこの作業を手伝わせることを考えています。

簡単に言えば、まずAIに`.czon/meta.json`内の全コンテンツを読ませ、その内容に基づいて分類体系を生成させます。その後、その分類体系に従ってAIに各記事に分類ラベルを付けさせることで、自動分類機能を実現します。

明らかに、この段階は単一記事のMetadata抽出が完了した後に行う必要がありますが、Markdownメタ情報を拡充する段階の前である必要があります。なぜなら、翻訳が必要となる可能性のある分類ラベルが生成されるかもしれないからです。したがって、`.czon/src`の母国語Markdownファイルを生成する前に完了させる必要があります。

AIによる分類では、あまりにも多くのカテゴリを生成しない方が良いでしょう。そうしないと、煩雑に見えてしまいます。各カテゴリには少なくとも3記事以上が含まれるべきであり、そうでなければカテゴリが細かすぎて散漫になります。コードが3回以上繰り返された場合にのみ、コンポーネントとして抽出することが推奨されるのと同じ理屈です。

また、カテゴリの総数も制限する必要があり、10個を超えないことが望ましいです。多すぎると、ユーザーがカテゴリディレクトリを閲覧する際に目移りしてしまい、かえってコンテンツの発見を妨げることになります。

もちろん、各記事は一つのカテゴリにのみ属するものとし、複数分類は行いません。これにより、分類の明確さと簡潔さが保証されます。

分類ラベルができれば、その後、カテゴリ別閲覧機能やカテゴリ別推薦機能を実装することができます。ユーザーは分類ラベルに基づいて関連コンテンツを閲覧でき、推薦システムでも同一カテゴリの記事を優先的に推薦することで、ユーザーの読書体験を向上させることができます。

さあ、計画が立ったら実行あるのみ。さっそく始めましょう！
---
"title": "CZON JSXリファクタリングとAI分類機能の計画"
"summary": "本稿ではまず、CZONプロジェクトで完了した作業を振り返ります。具体的には、従来のPlaceholder-Replacementベースのテンプレートエンジンを、ReactエコシステムのJSXを使用したページレンダリングへとリファクタリングし、カスタムテーマ機能は一時的に保留してコア機能の充実に注力しました。次に、AI分類機能の実装計画に焦点を当てます。AIがmeta.jsonの内容を読み取り分類体系を生成し、その後、各記事に自動的に分類タグを付与するというものです。要件として、カテゴリ数は10個以下、各カテゴリには最低3記事以上含まれること、各記事は1つのカテゴリにのみ属することとします。この機能は、単一記事のメタデータ抽出が完了した後、かつMarkdownメタ情報の拡張処理の前に実行する必要があります。これは、翻訳が必要な分類タグが生成される可能性があるためです。最後に、分類タグがカテゴリ別閲覧や推薦システムにおいてどのような価値を発揮するかについて展望を述べます。"
"tags":
  - "CZON"
  - "JSX"
  - "React"
  - "AI分類"
  - "リファクタリング"
  - "コンテンツ管理"
  - "フロントエンド開発"
"date": "2026-01-10"
---

現在は2026年1月10日、朝です。

CZONのJSXレンダリングのリファクタリング作業を、ひとまず完了させました。[こちらのドキュメント](czon://c1f75326e1864105c4c33c72e3c6d2fd1e9331ffe60f0600595770e84f22763d) に記載された考え方に基づき、CZONは現在、JSXコンポーネントを用いて様々なタイプのページをレンダリングできるようになりました。従来のPlaceholder-Replacementベースの独自開発テンプレートエンジンを削除し、ReactエコシステムのJSXによるページレンダリングへと移行しました。ただし、カスタムテーマ機能は一時的に保留し、まずはコア機能の充実に注力することとしました。

テキストコンテンツも徐々に充実してきましたので、そろそろAI分類機能の構築を開始する時期だと考えています。これはCZONの核となる売りの一つでもあります。コンテンツ量が増えるにつれ、手動での分類は煩雑になるため、自ら手作業で分類を行うつもりはありません。そこで、AIにこの作業を支援してもらう計画です。

簡単に説明すると、まずAIにmeta.json内の全コンテンツを読ませ、その内容に基づいて分類体系を生成させます。その後、その分類体系に従ってAIが各記事に分類タグを自動的に付与するという流れです。これにより、自動分類機能を実現します。

明らかに、この処理は単一記事のメタデータ抽出が完了した後に行う必要がありますが、Markdownメタ情報を拡張する処理の前である必要があります。なぜなら、翻訳が必要な分類タグが生成される可能性があるため、`.zen/src` の母国語Markdownファイルを生成する前に完了させなければなりません。

AIによる分類では、あまりにも多くのカテゴリを生成しないことが望ましいです。多すぎると煩雑に見えてしまいます。各カテゴリには、最低でも3記事以上含まれるべきです。そうでなければ、カテゴリが細分化されすぎてしまいます。これは、コードが3回以上繰り返される場合に初めてコンポーネントとして抽出が推奨されるのと同じ理屈です。

また、カテゴリの数も制限する必要があります。10個を超えないことが望ましいでしょう。多すぎると、ユーザーがカテゴリ一覧を閲覧する際に混乱を招き、かえってコンテンツの発見を妨げることになります。

もちろん、各記事は1つのカテゴリにのみ属するものとし、複数カテゴリへの所属は認めません。これにより、分類の明確さと簡潔さが保たれます。

分類タグが用意できれば、その後はカテゴリ別閲覧やカテゴリベースの推薦機能を実装できます。ユーザーは分類タグに基づいて関連コンテンツを閲覧でき、推薦システムでは同一カテゴリの記事を優先的に推薦することで、ユーザーの読書体験を向上させることができます。

さあ、計画が決まったらすぐに実行に移しましょう。始めます！
---
"title": "バックテストシステムの3層構造と実験設計の再構築"
"summary": "本稿では、バックテストシステムを3層構造に再構築することを提案します。市場系列を投資対象、シグナル戦略を反応、ベッティング戦略を投資主体と位置づけます。著者は、各実験をこれら3つの要素の組み合わせに分解することを提案し、実験設計と評価体系の抜本的な見直しの必要性を強調しています。新しい評価の焦点は、ピーク期待値から、利益確定イベントの発生頻度と分布特性、特に与えられたM_Tにおける利益確定イベントの平均発生間隔へと移行し、より有意義な投資指針を提供します。"
"tags":
  - "バックテストシステム"
  - "実験設計"
  - "市場系列"
  - "シグナル戦略"
  - "ベッティング戦略"
  - "投資評価"
  - "リスク管理"
"date": "2026-02-01"
---

現在は2026年2月1日、日曜日の午前です。

資本との持久戦における実験の構築に、依然として取り組んでいます。

研究を進めた結果、本プロジェクトの研究パラダイムは再構築されるべきだと考えました。

各実験を、3つの要素の組み合わせに分解する必要があります。すなわち、市場系列＋シグナル戦略＋ベッティング戦略です。

哲学的には、市場系列は投資対象を、シグナル系列は反応を、ベッティング戦略は投資主体を表します。

## バックテストシステムの3層構造

### 市場系列 (対象)

市場系列は、市場生成器がボラティリティやドリフト率などの特徴パラメータに基づいて生成します。市場系列は対象であり、外部環境です。

市場系列は、GBM / GARCH / Heston などのモデルを用いて生成できます。パラメータと乱数シードが与えられれば、確定した市場系列を生成することが可能です。

市場系列には合成データを使用することも、実際の過去データを使用することもできます。後続のシグナル戦略やベッティング戦略の評価用に、市場系列を事前にバッチ生成しておくことができます。合成データであれ過去データであれ、その形状は一貫しています。

### シグナル戦略 (反応)

シグナル戦略は、基盤となる戦略によって生成され、市場系列に対する反応です。

シグナル戦略は、平均回帰、トレンドフォロー、ブレイクアウト戦略などが考えられます。市場系列が与えられると、シグナル戦略は一連の売買シグナルを生成します。

対照群として、ランダムシグナルを使用します。

将来のシグナル戦略の研究開発は、本質的に、市場系列に対応する新しいシグナル戦略モジュールを次々と生み出すことになります。

### ベッティング戦略 (主体)

ベッティング戦略は、シグナルを受け取った後、どのように資金を配分し、リスクを管理するかを決定します。ベッティング戦略には、固定比率ベット、ケリー基準、マーチンゲール法、アンチマーチンゲール法などがあります。鍵となるのは、投資主体の投資目標とリスク選好です。

事前にすべての投資家の傾向を議論することはできません。投資家の傾向そのものが曖昧で変化しうるものでさえあります。誰もより多くの利益を拒むことはないからです。しかし、投資家は常に既存のフロンティアの中から選択を行うことしかできません。

したがって、特定の具体的な投資家の選好に合わせた実験設計を行うことはできません。しかし、M = 2, 4, 8, 16, ..., 1024 というべき乗数列に対して事前計算を行うことは可能です。その後、投資家は自身の要件を持って、これらの数列の間で近いものを参照すればよいのです。これは投資家により包括的な視点を提供できます。

ただし、実際の投資意思決定においては、投資家は依然として、投資操作を行うベッティング戦略のインスタンスとして、具体的な M_T 値を1つ選択しなければなりません。

## 実験設計の再構築

各シグナル戦略について、すべての市場系列とすべてのベッティング戦略の下で評価を行う必要があります。

そして、評価の体系はすでに変化しています。我々はもはや、ピークの期待値 E(M) に注目すべきではありません。この値はもはや何の意味もなく、投資家が自身の M_T 値を設定する指針とはならず、極端な値の影響を受けやすいからです。

注目すべきは、M >= M_T の時に発生する利益確定イベントの頻度と、その分布特性です。私は特に、与えられた M_T の下で、利益確定イベントが発生する平均時間間隔に関心があります。これは、利益確定イベントが適度な頻度で発生すべきであることを意味し、次回も同程度の時間がかかると予想できるからです。これが意味のある指標です。したがって、P(M >= M_T) ももはや重要ではありません。時間をかければいつかは成功するからです。

よって、これまでの様々な実験手順、評価モジュール、レポートにおける結論の焦点などを、徹底的に修正する必要があります。これは重大な視点の転換です。
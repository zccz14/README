---
"title": "CZON 技術更新とテーマ実装方式に関する検討"
"summary": "本記事は、2026年1月9日に著者がZENをCZONへ改名した技術的更新（AIによるパーマリンク生成、404ページリダイレクトの実装）を記録しています。核心はカスタムテーマの実装方式に関する議論で、著者は従来のテンプレート言語（Handlebarsなど）とJSXコンポーネントの長所・短所を比較し、柔軟性と拡張性を高めるため、Reactエコシステムの利点を活かしたJSXコンポーネントの採用を決定しました。また、テーマの格納場所（.czon/themesディレクトリ）、データ層設計、テーマからフレームワークデータへのアクセスなどの問題について議論し、方向性は明確であり、実装しながら改善していく方針を示しています。"
"tags":
  - "CZON"
  - "JSX"
  - "テーマ実装"
  - "技術選定"
  - "React"
  - "個人ユーザー"
  - "小規模チーム"
"date": "2026-01-09"
---

現在は2026年1月9日、未明です。

先ほど、ZENをCZONへ改名しました。AIによるパーマリンク生成機能を実装し、以前のSHA-256ハッシュリンクURL方式を削除しました。
また、404.htmlページからホームページへリダイレクトするロジックも作成しました。

以前Thrimbdaとの議論の中で、カスタムテーマの実装方式について悩んでいました。従来のテンプレート言語（例えばHandlebars）を使用するか、それとも直接JSXコンポーネントで実装するかです。Handlebars（および同類のEJS、Jinjaなど）は従来型のテンプレート言語に分類され、シンプルで使いやすいという長所がありますが、機能が限定的で拡張性に乏しく、発展の上限が低いという短所があります。一方、JSXコンポーネントを使用してカスタムテーマを実装すれば、Reactエコシステムの利点を最大限に活用でき、より高い柔軟性と拡張性を得られ、発展の上限も高くなります。ただし、学習曲線は急峻です。

しかし、今の時代はAIが直接生成してくれるのですから、テンプレート言語を学ぶ意味はあるでしょうか？どうやら意味がなさそうです。デバッグ時にコードを確認する必要があるだけです。

![学習？学ぶ価値なし](https://www.diydoutu.com/bq/1889new.gif)

JSXコンポーネントを使用して実装する場合、JSXコンポーネントを格納するフォルダはどこにすべきでしょうか？考えてみると、.czonディレクトリの下に置くしかなさそうです。例えば、`.czon/themes`ディレクトリの下です。これにより、ユーザーは直接`.czon/themes/{theme-name}`ディレクトリの下に自身のテーマコンポーネントを作成できるようになります。

私の技術選定は、やはり新しい方向性を志向していると思います。ZEN/CZONは主に個人ユーザーや小規模チームを対象としており、彼らは自身のナレッジベースを構築・管理するためにモダンな技術スタックを使用する傾向が強いからです。

というわけで、JSXに決定です！テーマをJSXで実装すれば、後はCZON CLI内で直接`renderToString`を呼び出すだけで済みます。

次の問題が次々と浮上してきます。データ層をどのように設計するか？テーマはどのようにフレームワークのデータにアクセスするか？テーマはどのように管理、公開、インストールするか？

現在、解決を待つ多くの問題が残っていますが、方向性はかなり明確になってきたと思います。実装しながら改善していきましょう。
---
"title": "CZON JSXリファクタリングとAI分類機能の計画"
"summary": "本稿では、まずCZONプロジェクトにおいて、Placeholder-ReplacementベースのテンプレートエンジンからReact JSXレンダリングへのリファクタリング作業が完了したことをまとめます。従来のAIによる手作りテンプレートエンジンを削除し、コア機能の充実に注力しており、カスタムテーマ機能は一時的に保留としました。続いて、AI分類機能の実装計画を詳細に説明します。AIが.meta.jsonの内容を読み取り、分類体系を生成し、各記事に単一のカテゴリラベルを付与します。各カテゴリには最低3記事以上を含め、総カテゴリ数は10個以内に収めることで、分類の明確さと簡潔さを保ちます。この機能は、単一記事のMetadata抽出後、Markdownメタ情報の拡充前に行う必要があり、翻訳の可能性に対応できるようにします。最後に、分類ラベルがカテゴリ別閲覧や推薦機能をサポートし、ユーザー体験を向上させることを展望します。"
"tags":
  - "CZON"
  - "JSXリファクタリング"
  - "AI分類"
  - "React"
  - "コンテンツ管理"
  - "自動化"
  - "ユーザー体験"
  - "プロジェクト計画"
"date": "2026-01-10"
---

現在は2026年1月10日、朝です。

CZONのJSXレンダリングに関するリファクタリング作業を、ひとまず完了させました。[このドキュメント](6.md)の考え方に基づき、CZONは現在、JSXコンポーネントを用いて様々なタイプのページをレンダリングできるようになりました。従来のPlaceholder-ReplacementベースのAIによる手作りテンプレートエンジンを削除し、ReactエコシステムのJSXを採用してページレンダリングを実現しています。ただし、カスタムテーマ機能は一時的に保留とし、まずはコア機能の充実に注力しています。

テキストコンテンツも徐々に充実してきたので、そろそろAI分類機能の構築を始める時期に来ていると思います。これはCZONの核となる売りの一つでもあります。コンテンツ量が増えるにつれ、手動での分類は煩雑になるため、自分で分類作業を行うつもりはありません。そこで、AIにこの作業を手伝わせることにしました。

簡単に言えば、まずAIに`.czon/meta.json`内の全コンテンツを読ませ、その内容に基づいて分類体系を生成させます。その後、AIにこの分類体系を用いて各記事に分類ラベルを付けさせることで、自動分類機能を実現します。

明らかに、この段階は単一記事のMetadata抽出が完了した後に行う必要がありますが、Markdownメタ情報を拡充する段階の前である必要があります。なぜなら、翻訳が必要となる可能性のある分類ラベルが生成されるかもしれないため、`.czon/src`の母国語Markdownファイルを生成する前に完了させなければなりません。

AIによる分類では、あまりにも多くのカテゴリを生成しない方が良いでしょう。そうしないと、煩雑で見づらくなってしまいます。各カテゴリには、最低でも3記事以上含めるべきです。そうでなければ、カテゴリが細かすぎて散漫になってしまいます。これは、コードが3回以上繰り返された場合に初めてコンポーネントとして抽出することが推奨されるのと同じ理屈です。

また、カテゴリの総数も制限する必要があります。10個を超えないようにするのが望ましいでしょう。多すぎると、ユーザーがカテゴリ一覧を閲覧する際に目が滑り、かえってコンテンツの発見を妨げることになります。

もちろん、各記事が属するカテゴリは一つだけとし、複数のカテゴリに所属させる多重分類は行いません。これにより、分類の明確さと簡潔さが保証されます。

分類ラベルができれば、その後はカテゴリ別の閲覧機能や、カテゴリに基づく推薦機能を実装できるようになります。ユーザーは分類ラベルに基づいて関連コンテンツを閲覧でき、推薦システムでも同一カテゴリの記事を優先的に推薦することで、ユーザーの読書体験を向上させることができます。

さあ、計画が立ったらすぐに実行に移しましょう。さっそく始めます！
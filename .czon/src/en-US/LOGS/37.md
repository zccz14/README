---
"title": "Backtesting System Three-Layer Structure and Experimental Design Refactoring"
"summary": "This paper proposes refactoring the backtesting system into a three-layer structure: market sequences as the investment object, signal strategies as the response, and betting strategies as the investment subject. The author suggests decomposing each experiment into a combination of these three components and emphasizes the need for a thorough revision of the experimental design and evaluation system. The new evaluation focus shifts from peak expectation to the frequency and distribution characteristics of profit-taking events, particularly the average time interval between profit-taking events for a given M_T, to provide more meaningful investment guidance."
"tags":
  - "Backtesting System"
  - "Experimental Design"
  - "Market Sequence"
  - "Signal Strategy"
  - "Betting Strategy"
  - "Investment Evaluation"
  - "Risk Management"
"date": "2026-02-01"
---

It is now Sunday morning, February 1, 2026.

Still striving with the experimental construction for the protracted war with capital.

After some research, I believe the research paradigm of this project should be refactored.

Each experiment should be decomposed into a combination of three components: Market Sequence + Signal Strategy + Betting Strategy.

Philosophically speaking, the market sequence represents the investment object, the signal sequence represents the response, and the betting strategy represents the investment subject.

## Three-Layer Structure of the Backtesting System

### Market Sequence (Object)

Market sequences are generated by a market generator based on characteristic parameters, such as volatility, drift, etc. The market sequence is the object, the external environment.

Market sequences can be generated using models like GBM / GARCH / Heston. Given parameters and a random seed, a deterministic market sequence can be generated.

Market sequences can use synthetic data or real historical data. We can pre-generate a batch of market sequences for subsequent evaluation by signal strategies and betting strategies. Whether synthetic or historical data, their format is consistent.

### Signal Strategy (Response)

Signal strategies are generated by underlying strategies and represent a response to the market sequence.

Signal strategies can be mean reversion, trend following, breakout strategies, etc. Given a market sequence, a signal strategy produces a series of buy/sell signals.

Use random signals as a control group.

Future research and development of signal strategies essentially involves continuously creating new signal strategy modules to respond to market sequences.

### Betting Strategy (Subject)

The betting strategy determines how to allocate capital and manage risk after receiving a signal. Betting strategies can be fixed-fraction betting, Kelly criterion, Martingale, Anti-Martingale, etc. The key lies in the investment subject's goals and risk preferences.

We cannot discuss all investors' tendencies beforehand; even an investor's own tendency is vague and variable: no one would refuse to earn more money. However, investors can only make decisions among the existing frontier choices.

Therefore, we cannot design experiments for specific, concrete investor preferences. However, we can pre-calculate for the power sequence M = 2, 4, 8, 16, ..., 1024. Afterwards, investors can simply reference the sequence closest to their own needs. This can provide investors with a more comprehensive perspective.

Nevertheless, in actual investment decisions, an investor must still choose a specific M_T value as an instance of the betting strategy for investment operations.

## Refactoring the Experimental Design

For each signal strategy, we must evaluate it under all market sequences and all betting strategies.

The evaluation system has already changed: we should no longer focus on the peak expectation E(M). This value is now meaningless; it cannot guide an investor in setting their own M_T value, and it is easily influenced by extreme values.

We should focus on the frequency and distribution characteristics of profit-taking events that occur when M >= M_T. I am particularly concerned with the average time interval between profit-taking events for a given M_T, which implies that profit-taking events should occur from time to time. This is meaningful; I can expect the next one to take a similar amount of time. Therefore, P(M >= M_T) is also no longer important, because success is inevitable given enough time.

Consequently, all previous experimental procedures, evaluation modules, and conclusions highlighted in reports need to be thoroughly revised. This is a significant paradigm shift.
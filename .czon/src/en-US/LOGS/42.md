---
"title": "Thoughts on System Permissions and AI Assetization"
"summary": "This article revolves around four core topics: First, it discusses the need for asymmetric permission design in the Yuan system, emphasizing the establishment of a robust permission control mechanism before opening data to support access to data and order interfaces by different strategy platforms. Second, it analyzes the initial forms and future trends of AI assetization, pointing out opportunities for intermediaries in API management and the long-term potential of BYOK. Third, it proposes a plan to enhance the user system based on Supabase, implementing passwordless PassKey login via Edge Functions. Finally, it briefly mentions the compliance requirements for integrating payment systems. The article aims to provide practical insights for technical teams in system design, AI business development, and user experience optimization."
"tags":
  - "Permission Design"
  - "AI Assetization"
  - "User System"
  - "Supabase"
  - "PassKey"
  - "Payment System"
  - "Yuan System"
  - "API Management"
"date": "2026-02-04"
---

# Some To-Do Items

It's now February 4, 2026, 00:00.

Worked all day, essentially a process of letting AI handle tasks while thinking. Feeling a bit tired, will continue tomorrow.

There are some worthwhile things to do, jotting them down.

## 1. Opening Up Our System

Regarding permissions within the Yuan host, can the permissions for connecting to the host be designed asymmetrically? That is, not all terminals connecting to the host should receive the same permissions. This would help us better control permissions and, consequently, better open up our data. Currently, due to the lack of a permission mechanism within the host, we are forced to temporarily close off some data sources and are hesitant to expose them freely to AI. Ultimately, this hinders the progress of experiments.

Specifically, can read SQL permissions be granted? Can write SQL permissions be granted? At the Method level, should access be allowed by default or denied by default? How should authorization be conducted? These questions all require careful design.

The benefit is that we could grant the Yuan CLI higher permissions, allowing AI to work more effectively.

In the future, Yuan might become a data source and order placement platform. The strategies in between are likely to be diverse. For now, besides the strategy platform built into Yuan's Kernel+Agent system, there's Brother Ji's TimeLab strategy platform and the persistent warfare experiment repository I've been working on recently. Based on different design philosophies and tech stacks, they might all coexist in the future. However, these strategy platforms all need access to Yuan's data and order placement interfaces.

Therefore, how to design a good permission system is an important question. **To open up, one must first establish defenses** (Fenghua accent).

## 2. The Capability of AI Assetization

Recently, while using some intermediary APIs, I noticed they are using the New API project for user management and billing. Essentially, they are assetizing their subscription pools, buying wholesale and selling retail to users. However, this sales method, because it's not tied to a specific business, prevents them from commanding high prices. The bargaining power here is conceded to the upstream business side.

To some extent, they represent AI API assetization, an initial form of AI assetization. Building upstream AI products can leverage underlying API assets to smooth out upstream business operations, allowing users to avoid directly facing the complexity of API configuration, thereby improving user experience. Direct product subscriptions or pay-as-you-go products! Users only care about the final combined product, not how the underlying APIs are configured. This creates another layer of profit potential.

Currently, API KEY management remains a barrier for average users. Many users are not familiar with the concept of an API KEY, or even how to apply for and manage one. Therefore, intermediaries in the AI business still have significant opportunities. This is essentially a problem of knowledge gap. This type of profit is easily scalable.

Of course, I believe that in the future, BYOK (Bring Your Own Key) will definitely be a trend. Users will want to use their own API Keys to avoid data leakage issues. On the other hand, users also hope to purchase AI services at API cost price, without paying a markup to intermediaries. Actually, intermediaries also perform a lot of business assembly, which is valuable. On the business side, BYOK can be an option, but in the coming years, before the concept of API KEY is fully popularized, BYOK will not become mainstream.

## 3. Enhancing the User System

Supabase is still a good choice, but its user system still has some shortcomings. For example, it doesn't support passwordless login methods like PassKey. I thought of a solution to make Supabase support PassKey, inspired by:

**Using an admin (service_role) identity within an Edge Function to create a Supabase session for a specific user and obtain the access_token / refresh_token, then returning them to the frontend.**

- Supabase does not have an official API for "admin directly generating a session for any user."
- The official recommended approach: Use the combination of `auth.admin.generateLink` + `auth.verifyOtp` in the backend (Edge Function) to simulate a magic link login flow, thereby obtaining the user's session object (which contains access_token / refresh_token, etc.).
- This entire flow can be completed entirely within the Edge Function, without actually sending an email to the user or requiring the user to click a link.

Therefore, we can fully implement PassKey login functionality via Edge Functions. From then on, the user system based on Supabase can support registration via email, login via email, and additional login via PassKey. The entire process is passwordless, offering a better user experience. However, PassKey is a heavyweight interaction method, not suitable for every operation. It's only suitable for binding to initial login and some important operations (like changing passwords, modifying payment methods, etc.). For regular session persistence, simply reuse Supabase's access_token / refresh_token mechanism; the JWT mechanism works very well.

## 4. Payment System

A very old yet practical problem: How to let users pay? How to transfer funds to the company's receiving account compliantly? How can we bind a QR code so that users scan to pay, and the money goes to the company's account? These issues all need to be resolved.

We will have several solutions; integrating with a payment platform might be a good option. Must go through the process, will share more later.